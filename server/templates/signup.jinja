{% extends 'base.jinja' %}

{% block title %}
Sing Up to FoodStat
{% endblock title %}

{% block content %}
<!-- Hero Section -->
<section class="bg-secondary">
    <div class="max-w-7xl mx-auto px-4 py-12 sm:py-16 sm:px-6 lg:px-8">
        <div class="text-center">
            <h1 class="text-3xl font-extrabold text-neutral sm:text-4xl lg:text-5xl">
                Join FoodStat Today
            </h1>
            <p class="mt-4 max-w-2xl mx-auto text-lg text-gray-700">
                Create your account and start your journey to healthier eating.
            </p>
        </div>
    </div>
</section>

<!-- Signup Form Section -->
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-12">
    <div class="max-w-md mx-auto bg-white rounded-xl shadow-md overflow-hidden p-8">
        <h2 class="text-2xl font-bold text-neutral mb-6 text-center">Create a New Account</h2>
        <form id="signup-form" class="space-y-6" method="post" action="{{ url_for('sign_up') }}">

            <!-- Firstname & Lastname -->
            <div class="grid grid-cols-2 gap-4">
                <div>
                    <label for="first_name" class="block text-sm font-medium text-gray-700">First Name</label>
                    <input type="text" id="first_name" name="first_name"
                        class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md">
                </div>
                <div>
                    <label for="last_name" class="block text-sm font-medium text-gray-700">Last Name</label>
                    <input type="text" id="last_name" name="last_name"
                        class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md">
                </div>
            </div>

            <!-- Gender -->
            <div>
                <label for="gender" class="block text-sm font-medium text-gray-700">Gender</label>
                <select id="gender" name="gender" required
                    class="mt-1 block w-full pl-3 pr-10 py-2 text-sm border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary">
                    <option value="">-- Select Gender --</option>
                    <option value="male">Male</option>
                    <option value="female">Female</option>
                </select>
            </div>

            <!-- User Type -->
            <div>
                <label for="user_type" class="block text-sm font-medium text-gray-700">User Type</label>
                <select id="user_type" name="user_type" required
                    class="mt-1 block w-full pl-3 pr-10 py-2 text-sm border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary">
                    <option value="">-- Select User Type --</option>
                    <option value="weight_loss">Weight Loss</option>
                    <option value="weight_gain">Weight Gain</option>
                    <option value="muscle_gain">Muscle Gain</option>
                    <option value="pregnant_mother">Pregnant Mother</option>
                    <option value="infant">Infant</option>
                    <option value="general_fitness">General Fitness</option>
                </select>
            </div>

            <div class="grid grid-cols-2 gap-4">
                <!-- Weight -->
                <div>
                    <label for="weight" class="block text-sm font-medium text-gray-700">Weight (kg)</label>
                    <input type="number" step="0.1" min="0" id="weight" name="weight"
                        class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md placeholder:text-sm"
                        placeholder="e.g. 68.5">
                </div>

                <!-- Height -->
                <div>
                    <label for="height" class="block text-sm font-medium text-gray-700">Height (m)</label>
                    <input type="number" step="0.01" min="0" id="height" name="height"
                        class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md placeholder:text-sm"
                        placeholder="e.g. 1.75">
                </div>
            </div>

            <!-- Age -->
            <div>
                <label for="age" class="block text-sm font-medium text-gray-700">Age</label>
                <input type="number" min="0" max="120" id="age" name="age"
                    class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md placeholder:text-sm"
                    placeholder="Enter your age">
                {# <p class="text-xs text-gray-500">Age should be between 0 and 120.</p> #}
            </div>

            <!-- Diet Type -->
            <div>
                <label for="diet_type" class="block text-sm font-medium text-gray-700">Diet Type</label>
                <select id="diet_type" name="diet_type" required
                    class="mt-1 block w-full pl-3 pr-10 py-2 text-sm border-gray-300 rounded-md focus:outline-none focus:ring-primary focus:border-primary">
                    <option value="">-- Select Diet Type --</option>
                    <option value="veg">Vegetarian</option>
                    <option value="non-veg">Non-Vegetarian</option>
                </select>
            </div>

            <!-- Allergy Info -->
            <div>
                <label for="allergy_info" class="block text-sm font-medium text-gray-700">Allergy (if any)</label>
                <textarea id="allergy_info" name="allergy_info" rows="2"
                    class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md placeholder:text-sm"
                    placeholder="Comma-separated: e.g. peanuts, gluten, dairy"></textarea>
            </div>

            <!-- Disease Info -->
            <div>
                <label for="disease_info" class="block text-sm font-medium text-gray-700">Diseases (if any)</label>
                <textarea id="disease_info" name="disease_info" rows="2"
                    class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md placeholder:text-sm"
                    placeholder="Comma-separated: e.g. diabetes, hypertension"></textarea>
            </div>

            <!-- Username -->
            <div>
                <label for="username" class="block text-sm font-medium text-gray-700">
                    Username</label>
                <div class="mt-1">
                    <input type="text" id="username" name="username" required
                        class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md"
                        placeholder="Choose a username">
                </div>
            </div>

            <!-- Password -->
            <div>
                <label for="password" class="block text-sm font-medium text-gray-700">
                    Password</label>
                <div class="mt-1">
                    <input type="password" id="password" name="password" required
                        class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md"
                        placeholder="Create a password">
                </div>
            </div>

            <!-- Profile Name -->
            <div>
                <label for="profile_name" class="block text-sm font-medium text-gray-700">Profile Name</label>
                <div class="mt-1">
                    <input type="text" id="profile_name" name="profile_name"
                        class="shadow-sm focus:ring-primary focus:border-primary block w-full sm:text-sm border-gray-300 rounded-md"
                        placeholder="Will default to username if left blank">
                </div>
            </div>

            <!-- Submit Button -->
            <div>
                <button type="submit"
                    class="w-full inline-flex justify-center py-2 px-4 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary">
                    {# TODO: submit the signup to sign_up api in app.py #}
                    Sign Up
                </button>
            </div>
        </form>

        <div class="mt-6 text-center">
            <p class="text-sm text-gray-600">
                Already have an account? <a href="{{ url_for('routes_bp.login') }}"
                    class="font-medium text-secondary hover:text-primary transition">Log in</a>
            </p>
        </div>
    </div>
</div>

{% endblock content %}